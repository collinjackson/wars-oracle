openapi: 3.1.0
info:
  title: Wars Oracle
  description: API for retrieving turn-based strategy game state and context.
  version: 1.0.0
servers:
  - url: https://wars-oracle.vercel.app
paths:
  /api/game/{gameId}/context:
    get:
      operationId: getGameContext
      summary: Get game strategy context
      parameters:
        - name: gameId
          in: path
          required: true
          schema:
            type: integer
        - name: username
          in: query
          required: false
          schema:
            type: string
          description: The username of the player to advise (e.g. "ridiculotron").
        - name: player_id
          in: query
          required: false
          schema:
            type: integer
          description: The ID of the player to advise (alternative to username).
      responses:
        '200':
          description: OK
          content:
            text/plain:
              schema:
                type: string
  /api/rules/damage:
    get:
      operationId: getDamageRules
      summary: Get the full unit damage matrix
      responses:
        '200':
          description: JSON object of damage percentages
          content:
            application/json:
              schema:
                type: object
  /api/rules/terrain:
    get:
      operationId: getTerrainRules
      summary: Get terrain defense and movement costs
      responses:
        '200':
          description: JSON object of terrain stats
          content:
            application/json:
              schema:
                type: object
